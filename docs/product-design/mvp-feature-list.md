# Vide Analyst - MVP Feature List (P0)

> 전체 30개 기능 중 MVP에 필수적인 15개 기능만 추출.
> 이 기능들만 있으면 "티커 입력 → 종합 분석 → 투자 대가 관점 → 밸류에이션"의 핵심 루프가 완성된다.

---

## MVP 사용자 플로우

```
[홈: 티커 검색] → [종목 헤더 + 분석 유형 선택] → [프로그레스 트래커 + 스트리밍]
     F-1              F-4, F-5                      F-6, F-7
                                                        │
                         ┌──────────────────────────────┘
                         ▼
              [탭 네비게이션으로 전환]  F-25
                         │
          ┌──────────────┼──────────────┐
          ▼              ▼              ▼
    종합 리포트      투자 대가       밸류에이션
    F-9, F-10, F-11  F-14, F-15     F-18, F-19
```

디자인 기반: F-28 (컬러 시스템), F-29 (타이포그래피)

---

## 화면별 MVP 기능

### 홈 (Screen 1)

#### F-1. 티커 검색

| 항목 | 내용 |
|------|------|
| **설명** | 화면 중앙의 단일 검색창. 영문 티커(AAPL), 한글 회사명(애플), 영문 회사명(Apple) 모두 입력 가능 |
| **Pain Point** | 시작의 막막함 → 진입 마찰 제로 |
| **인터랙션** | 타이핑 즉시 자동완성 드롭다운. 종목 선택 시 분석 유형 선택 화면으로 이동 |
| **기술 참조** | `GET /api/search` — FMP Company Search API |

---

### 분석 유형 선택 (Screen 2)

#### F-4. 종목 헤더

| 항목 | 내용 |
|------|------|
| **설명** | 선택한 종목의 기본 정보 카드. 회사명, 섹터/산업, 현재가, 등락률 표시 |
| **Pain Point** | 내가 맞는 종목을 선택했는지 즉시 확인 |
| **데이터** | FMP Company Profile + Quote |

#### F-5. 분석 유형 선택 카드

| 항목 | 내용 |
|------|------|
| **설명** | 4개 분석 유형을 카드로 제시: (1) 종합 분석 리포트, (2) 투자 대가 관점, (3) 적정주가 분석, (4) 전체 분석 (All-in-One) |
| **Pain Point** | "내가 통제하고 있다"는 느낌. 필요한 분석만 선택 가능 |
| **인터랙션** | 카드 클릭 시 해당 분석 시작. 전체 분석은 1~3을 모두 순차 실행 |

---

### 분석 진행 (Screen 3)

#### F-6. 단계별 프로그레스 트래커

| 항목 | 내용 |
|------|------|
| **설명** | 분석 진행 상태를 단계별로 표시. 각 단계마다 체크마크(완료) 또는 스피너(진행 중) + 수집 결과 미리보기 텍스트 |
| **Pain Point** | "일이 진행되고 있다"는 신뢰감. 기다림을 기대로 전환 |
| **단계 목록** | 재무제표 수집 → 산업 데이터 수집 → 뉴스 수집 → 리포트 작성 → 투자자 분석(×6) → 밸류에이션 |
| **인터랙션** | 각 단계 완료 시 수집 결과 요약이 카드 안에 표시 ("매출 $394B, 영업이익률 30.7%") |
| **기술 참조** | `analysis-orchestrator.tsx` 상태머신 — 클라이언트가 10개 API를 순차 호출 |

#### F-7. 리포트 실시간 스트리밍

| 항목 | 내용 |
|------|------|
| **설명** | LLM이 작성하는 리포트가 실시간으로 타이핑되듯 화면에 나타남. 하단에 프로그레스 바(%) 표시 |
| **Pain Point** | "AI가 지금 분석하고 있다"는 생생한 느낌 |
| **기술 참조** | Edge Runtime + Vercel AI SDK `streamText` → `toDataStreamResponse()` |

---

### 종합 리포트 (Screen 4)

#### F-9. 결론 헤더 (Above the Fold)

| 항목 | 내용 |
|------|------|
| **설명** | 스크롤 없이 첫 뷰포트에서 핵심 결론을 표시: (1) 종합 판단 한 줄 ("매력적이나 현재가 부담"), (2) 적정주가 레인지 바 + 현재가 위치, (3) 투자 매력도 점수 (X/100) |
| **Pain Point** | "그래서 사야해 말아야해"의 방향성을 즉시 제공 |

#### F-10. 강점/리스크 양면 표시

| 항목 | 내용 |
|------|------|
| **설명** | 강점(좌)과 리스크(우)를 나란히 병렬 배치. 각각 3~5개 불릿 포인트 |
| **Pain Point** | 확증 편향 방지 — 좋은 면과 나쁜 면을 동시에 제시 |
| **MVP 범위** | 병렬 배치만 구현. 토글/blur 인터랙션은 P1(F-30)에서 |

#### F-11. 재무 하이라이트 카드

| 항목 | 내용 |
|------|------|
| **설명** | 4개 핵심 지표 카드 (매출, 영업이익률, FCF, ROE). 각 카드에 절대값 + 전년비 변화율 표시. JetBrains Mono 폰트 사용 |
| **Pain Point** | 숫자 자체보다 "방향"(개선/악화)이 중요 |
| **데이터** | FMP Income Statement + Balance Sheet + Cash Flow |

---

### 투자 대가 분석 (Screen 5)

#### F-14. 라운드테이블 합의 요약

| 항목 | 내용 |
|------|------|
| **설명** | 6명 투자자의 판정을 한 줄로 요약. 찬성/중립/반대 아이콘 + 합의 바 차트 ("4명 찬성 · 1명 중립 · 1명 반대") |
| **Pain Point** | 다양한 시각의 합의/불일치를 한 눈에 파악 |

#### F-15. 투자자 개별 분석 카드

| 항목 | 내용 |
|------|------|
| **설명** | 각 투자자(버핏, 그레이엄, 린치, 달리오, 그린블랫, 피셔)별 독립 카드 |
| **카드 구성** | (1) 아바타 + 이름 + 한 줄 소개, (2) 판정 (강력매수/매수고려/관망/매수부적합) + 점수(★), (3) 1인칭 화법 코멘트, (4) 기준별 점수 바 차트, (5) 핵심 근거 + 리스크 불릿 |
| **Pain Point** | "혼자 결정하는 게 두렵다" → 6명의 전문가와 상의한 느낌 |
| **기술 참조** | `POST /api/analyze/investor/[id]` × 6 — 각각 독립 Edge 스트리밍 라우트 |

---

### 밸류에이션 (Screen 6)

#### F-18. 종합 적정주가 레인지 차트

| 항목 | 내용 |
|------|------|
| **설명** | DCF, RIM, Comparable 결과를 하나의 가로 레인지 바에 통합 표시. 현재가 마커가 레인지 위에 표시. 안전마진 기준 매수가도 함께 표기 |
| **Pain Point** | 복수 밸류에이션의 결과를 "범위"로 사고하게 유도 |
| **인터랙션** | 레인지 바 색상이 현재가 위치에 따라 변화 (적정가 내 = Gold, 초과 = Terracotta) |
| **MVP 범위** | DCF 결과 기반 레인지만 표시. RIM/Comparable은 P1에서 추가 |

#### F-19. DCF 인터랙티브 슬라이더

| 항목 | 내용 |
|------|------|
| **설명** | DCF 모델의 4개 핵심 가정치(매출성장률, 영업이익률, WACC, 영구성장률)를 각각 슬라이더로 조정 가능. AI가 초기 추천값을 세팅 |
| **Pain Point** | "빈 엑셀의 공포" 완전 제거. AI가 먼저 채우고 사용자가 조정 |
| **인터랙션** | 슬라이더 이동 즉시 적정가 숫자가 실시간 재계산. 별도 "계산" 버튼 없음 |
| **기술 참조** | LLM → 가정치 추론 + 설명. `src/lib/valuation/dcf.ts` → 수치 계산. 슬라이더 조정 시 TypeScript만 재실행 |

---

### 공통

#### F-25. 탭 네비게이션

| 항목 | 내용 |
|------|------|
| **설명** | 분석 결과 화면에서 종합리포트 / 투자대가 / 밸류에이션 탭 간 자유로운 이동 |
| **원칙** | 깊이 최대 3단계 (홈 → 종목 → 분석 탭). 탭 간 이동은 자유. 뒤로가기는 항상 예측 가능 |
| **MVP 범위** | 3개 탭 (리포트, 투자대가, 밸류에이션). 뉴스/재무원본 탭은 P1에서 |

---

### 디자인 시스템

#### F-28. 컬러 시스템

| 용도 | 색상 | 코드 |
|------|------|------|
| **Primary** | Deep Navy | `#1a1a2e` |
| **Accent** | Muted Gold | `#e2b857` |
| **Positive** | Sage Green | `#4a9079` |
| **Negative** | Terracotta | `#c75a3a` |
| **Neutral** | Slate Gray | `#8b8fa3` |
| **Background** | Warm White / Warm Gray | `#fafaf8` / `#f5f3ef` |

금지: 강렬한 빨강/초록, 네온, 그라디언트, 순수 흰색

#### F-29. 타이포그래피

| 용도 | 폰트 |
|------|------|
| **한글** | Pretendard |
| **영문/숫자** | Inter |
| **재무 수치** | JetBrains Mono |

수치 표기 규칙: 단위 축약($394B), 변화율 동반(+8.2%), Terracotta+▼로 하락 표시

---

## MVP 기능 × API 매핑

| 기능 | 의존 API 라우트 |
|------|----------------|
| F-1 티커 검색 | `GET /api/search` |
| F-4 종목 헤더 | `POST /api/analyze/collect` (프로필 포함) |
| F-5 분석 유형 선택 | 프론트엔드 전용 |
| F-6 프로그레스 트래커 | `analysis-orchestrator.tsx` 상태머신 |
| F-7 리포트 스트리밍 | `POST /api/analyze/report` (Edge, 스트리밍) |
| F-9 결론 헤더 | 리포트 결과에서 추출 |
| F-10 강점/리스크 | 리포트 결과에서 추출 |
| F-11 재무 하이라이트 | `POST /api/analyze/collect` (재무 데이터) |
| F-14 라운드테이블 요약 | 6명 투자자 결과 집계 |
| F-15 투자자 카드 | `POST /api/analyze/investor/[id]` × 6 (Edge, 스트리밍) |
| F-18 적정주가 레인지 | `POST /api/analyze/valuation` 결과 |
| F-19 DCF 슬라이더 | `POST /api/analyze/valuation` + `dcf.ts` 재계산 |
| F-25 탭 네비게이션 | 프론트엔드 전용 |
| F-28 컬러 시스템 | `tailwind.config.ts` + `globals.css` |
| F-29 타이포그래피 | `layout.tsx` 폰트 설정 |

---

## MVP 기능 수 요약

| 카테고리 | 기능 수 |
|---------|:------:|
| 홈 | 1 |
| 분석 유형 선택 | 2 |
| 분석 진행 | 2 |
| 종합 리포트 | 3 |
| 투자 대가 | 2 |
| 밸류에이션 | 2 |
| 공통 | 1 |
| 디자인 시스템 | 2 |
| **전체 MVP** | **15** |
